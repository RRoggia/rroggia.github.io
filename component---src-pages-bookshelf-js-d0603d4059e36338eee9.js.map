{"version":3,"sources":["webpack://rroggia.github.io/./src/components/Notes/notePath.js","webpack://rroggia.github.io/./src/components/ReadingContentCard/index.js","webpack://rroggia.github.io/./src/components/SearchReadingContent/index.js","webpack://rroggia.github.io/./src/pages/bookshelf.js"],"names":["createPostPath","title","toLowerCase","replace","NoteCard","styled","BookCover","GatsbyImage","Ribbon","note","status","RibbonKiller","getCoverImage","covers","emptyCover","coverNode","find","cover","node","name","ReadingContentCard","coverPath","language","date","image","getImage","alt","Label","Input","Div","Grid","WhitinGrid","nodeToNotes","frontmatter","createNotePath","Bookshelf","data","useState","readingContentNameFilter","setReadingContentNameFilter","for","key","onChange","value","placeholder","useSearchReadingContent","filterByName","edges","notesByStatus","map","reduce","byStatus","push","BasePage","filter","b","includes","length"],"mappings":"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","file":"component---src-pages-bookshelf-js-d0603d4059e36338eee9.js","sourcesContent":["export default function createPostPath( title ) {\n  return `/notes/${title.toLowerCase().replace( /\\s/ug, '-' )}`\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { GatsbyImage, getImage } from 'gatsby-plugin-image'\n\nconst NoteCard = styled.div`\n  display: inline;\n`\nconst BookCover = styled( GatsbyImage )`\n  @media (max-width: 600px) {\n    margin-bottom: 2rem;\n  }\n`\n\nconst Ribbon = styled.div`\n  color: white;\n  background-color: ${( note ) => {\n    switch ( note.status ) {\n      case 'Read':\n        return 'green'\n      case 'Notes':\n        return 'orange'\n      default:\n        return 'red'\n    }\n  }};\n  font-size:1.2rem;\n  position: absolute;\n  transform: rotate(45deg);\n  z-index: 1;\n  width: 100px;\n  margin-top: 11%;\n  margin-left: 48%;\n`\nconst RibbonKiller = styled.div`\n  overflow: hidden;\n  display: block;\n  width: 150px;\n  position: relative;\n  margin: auto;\n`\n\nfunction getCoverImage( covers, title, emptyCover ) {\n  const coverNode = covers.find( cover => {\n    return cover.node.name === title\n  } )\n  if ( !coverNode ) {\n    return emptyCover\n  }\n  return coverNode.node\n}\n\nexport default function ReadingContentCard( { title, status, coverPath, language, date, covers, emptyCover } ) {\n  return (\n    <NoteCard >\n      <h3> { title } </h3>\n      <RibbonKiller>\n        <Ribbon status={ status }>{ status }</Ribbon>\n        <BookCover\n          image={ getImage( getCoverImage( covers, `${coverPath}`, emptyCover ) ) }\n          alt={ title }\n        />\n      </RibbonKiller>\n      <p>Language: { language }</p>\n      {date ? <p>Date: { date }</p> : null}\n    </NoteCard>\n  )\n}\n","import { Placeholder } from 'gatsby-plugin-image';\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\n\nconst Label = styled.label`\n\tpadding: 0 15px  0  0;\n  font-weight: bold;\n\twidth:20%;\n`\n\nconst Input = styled.input`\n\tall: unset;\n\tborder-bottom: 1px solid black;\n\twidth:80%;\n`\nconst Div = styled.div`\n\tbackground: lightpurple;\n\tbox-shadow: 5px 5px 5px 2px lightgray;\n\tborder-radius: 5px;\n\twidth:95%;\n\tmargin: 30px 1%;\n\tpadding: 10px;\n`\n\nexport default function SearchReadingContent() {\n    const [ readingContentNameFilter, setReadingContentNameFilter ] = useState()\n\n\treturn [\n\t\treadingContentNameFilter,\n\t\t()=> (\n\t\t\t<Div>\n\t\t\t\t<Label for=\"readingContentFilter\">Filter</Label>\n\t\t\t\t<Input \n\t\t\t\t\tkey=\"readingContentFilter\"\n\t\t\t\t\tonChange={ ( { 'target': { value } } ) => {\n\t\t\t\t\t\tsetReadingContentNameFilter( value )\n\t\t\t\t\t} }\n\t\t\t\t\tplaceholder=\"e.g. Agile\"\n\t\t\t\t/>\n\t\t\t</Div>\n\t\t)\n\t]\n}\n","/* eslint-disable id-length */\nimport React, { useState } from 'react'\nimport BasePage from '../components/Base/BasePage'\nimport styled from 'styled-components'\nimport { graphql } from 'gatsby'\nimport createNotePath from '../components/Notes/notePath'\nimport ReadingContentCard from '../components/ReadingContentCard'\nimport useSearchReadingContent from '../components/SearchReadingContent'\n\nconst Grid = styled.div`\n  width: 100%;\n  display: inline-grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  text-align: center;\n\n  @media (max-width: 600px) {\n    display: block;\n  }\n`\nconst WhitinGrid = styled.div`\n  @media (max-width: 600px) {\n    display: flex;\n    justify-items:center;\n    overflow-y:scroll;\n    & > div{\n      padding: 0px 100px 0 30px ;\n    }\n  }\n`\n\nfunction nodeToNotes( node ) {\n  return {\n    ...node.node.frontmatter,\n    'url': createNotePath( node.node.frontmatter.title )\n  }\n}\n\nexport default function Bookshelf( { data } ) {\n  const [ readingContentNameFilter, filterByName ] = useSearchReadingContent()\n  const {\n    'allMarkdownRemark': { edges },\n    'allFile': { 'edges': covers },\n    'file': emptyCover\n  } = data\n  const notes = edges.map( nodeToNotes )\n  const notesByStatus = notes\n    .reduce( ( byStatus, note ) => {\n      if ( !byStatus[ note.status ] ) {\n        byStatus[ note.status ] = []\n      }\n      byStatus[ note.status ].push( note )\n      return byStatus\n    }, {} )\n\n  return (\n    <BasePage>\n      <h2>Bookshelf</h2>\n      {filterByName()}\n      <Grid>\n        { [ 'Backlog', 'Planning', 'Reading', 'Read' ].map( status => {\n          return (\n            <div>\n              <h2>\n                { `${status} (${!notesByStatus[ status ] ? 0 : notesByStatus[ status ]\n                  .filter( b => readingContentNameFilter ? b.title.toLowerCase().includes( readingContentNameFilter.toLowerCase() ) : true )\n                  .length})` }\n              </h2>\n              <WhitinGrid key={ status }>\n              {\n                !notesByStatus[ status ] ?\n                  <p>Empty</p> :\n                  notesByStatus[ status ]\n                    .filter( b => readingContentNameFilter ? b.title.toLowerCase().includes( readingContentNameFilter.toLowerCase() ) : true )\n                    .map( b => {\n                      return (\n                        <div key={ b.title }>\n                          <ReadingContentCard\n                            key={ b.title }\n                            title={ b.title }\n                            status={ b.status }\n                            coverPath={ b.coverPath }\n                            language={ b.language }\n                            date={ b.date }\n                            covers={ covers }\n                            emptyCover={ emptyCover }\n                          />\n                        </div>\n                      )\n                    } )\n              }\n            </WhitinGrid>\n            </div>\n          )\n        } ) }\n      </Grid>\n    </BasePage>\n  )\n}\n\nexport const pageQuery = graphql`\n  query {\n    allMarkdownRemark(filter: {fileAbsolutePath: {glob: \"**/reading-content/**\"}}, sort: {order: DESC, fields: [frontmatter___date]}) {\n      edges {\n        node {\n          frontmatter {\n            title\n            language\n            coverPath\n            status\n            date\n          }\n        }\n      }\n    }\n    allFile(filter: { extension : {in: [\"jpg\", \"png\"]}, absolutePath: { glob:\"**/covers/**\"}}) {\n      edges {\n        node {\n          childImageSharp {\n            gatsbyImageData( width: 150 ) \n          }\n          name\n        }\n      }\n    }\n    file(name: {eq: \"empty\"}) {\n      name\n      childImageSharp {\n        gatsbyImageData( width: 150 )\n      }\n    }\n  }\n`\n"],"sourceRoot":""}