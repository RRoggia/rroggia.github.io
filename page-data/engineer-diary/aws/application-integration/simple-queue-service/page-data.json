{
    "componentChunkName": "component---src-templates-file-template-js",
    "path": "/engineer-diary/aws/application-integration/simple-queue-service",
    "result": {"pageContext":{"parentPath":"/engineer-diary/aws/application-integration/simple-queue-service","fileAbsolutePath":"/home/runner/work/rroggia.github.io/rroggia.github.io/content/engineer-diary/AWS/application-integration/simple-queue-service.md","html":"<p><a href=\"https://docs.aws.amazon.com/sqs/index.html\">Documentation</a></p>\n<h2>Overview</h2>\n<p>SQS is a regional fully managed queue service commonly used to integrate distributed systems in a decoupled, highly available and highly durable manner. It's a public service, therefore, it's possible to access from anywhere where you have access to the AWS public space.</p>\n<h2>Core Concept</h2>\n<p>The main core concept of SQS are the queues. It supports two types of <strong>Queues</strong>:</p>\n<ul>\n<li><strong>FIFO</strong>: The messages are <strong>delivered exactly once</strong> using the First In, First Out as the <strong>ordering mechanism</strong>. However, it has a limit of 3000 messages per second. Its performance is reduced due to the order and delivery guarantees. It supports up to 300 messages per second or using batch (10 events in a message) 3000 messages. Queues require the <strong>.fifo</strong> suffix.</li>\n<li><strong>Standard</strong>: Best effort ordering mechanism (<strong>order is not guaranteed</strong>), and a message is delivered <strong>at least once</strong> (potentially more times).</li>\n</ul>\n<p>Once you create the queue you can't change its type.</p>\n<p>The queue receive events through the SQS <code>sendMessage</code> or <code>sendMessageBatch</code> API. The <strong>message size</strong> can be up to 256 KB for a single message or in the Batch API the number of message times the maximum message size. </p>\n<p>A message remains in the queue until it is deleted, is moved or expires. Messages expire when reach the maximum <strong>retention period</strong>. It can range between 1 minute to 14 days. To move a message you configure a <strong>Redrive policy</strong> to send undeliverable messages (could not be processed after up to 1000 attempts or expired messages) to a <strong>Dead Letter Queue (DLQ)</strong>. The Redrive policy specifies the source queue, the DLQ where the message is going to be moved and the number of times a consumer attempts to process a message (<code>maxReceiveCount</code>).</p>\n<p>DLQ are used to handle the lifecycle of unconsumed messages . By default, all queues can be used as DLQ. However, the source and DLQ must have the same type both standard or both FIFO). You can also enable the <strong>Redrive allow policy</strong> in a queue to detail the source queues you want to allow or deny sources queues to move messages to the queue.</p>\n<h1>TODO</h1>\n<h1>Simple Queue Service</h1>\n<p>Pooling</p>\n<ul>\n<li>\n<p>short (immediate)</p>\n<ul>\n<li>1 request and can receive zero or more messages</li>\n</ul>\n</li>\n<li>\n<p>Long (wait Time Seconds)</p>\n<ul>\n<li>up to 20 seconds</li>\n</ul>\n</li>\n</ul>\n<p>visibility timeout</p>\n<ul>\n<li>default is 30 seconds</li>\n<li>the time the message is hidden in the queue</li>\n<li>retries if not explicit delete</li>\n</ul>\n<p>ASG can scale based on queue size</p>\n<p>Lambdas can be triggered by messages in queue</p>\n<h1>SQS Delay Queues</h1>\n<p>visivility timeout can vary from 0 to 12hours</p>\n<ul>\n<li>per queue or per message</li>\n</ul>\n<p>DelaySeconds</p>\n<ul>\n<li>invisible for the specified amount of time</li>\n<li>0 to 15 min</li>\n<li>messages are invisible when they join the queue</li>\n</ul>\n<h1>SQS Dead-Letter Queues</h1>\n<p>receiveCountAttribute is increased every time the message is received</p>\n<p>retention period should be longer than queue</p>","frontmatter":{"title":"SQS - Simple Queue Service"},"isFile":true,"fileName":"simple-queue-service"}},
    "staticQueryHashes": ["1507822185","2095566405","2894216461","425755332"]}