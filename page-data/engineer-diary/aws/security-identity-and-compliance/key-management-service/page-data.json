{
    "componentChunkName": "component---src-templates-file-template-js",
    "path": "/engineer-diary/aws/security-identity-and-compliance/key-management-service",
    "result": {"pageContext":{"parentPath":"/engineer-diary/aws/security-identity-and-compliance/key-management-service","fileAbsolutePath":"/home/runner/work/rroggia.github.io/rroggia.github.io/content/engineer-diary/AWS/security-identity-and-compliance/key-management-service.md","html":"<p><a href=\"https://docs.aws.amazon.com/kms/latest/developerguide/overview.html\">Documentation</a></p>\n<h2>Overview</h2>\n<p>KMS is a regional service that eases the management of cryptographic keys and encryption/decryption of data. KMS integrates with several AWS services to encrypt data in transfer and at rest.</p>\n<h2>Core Concepts</h2>\n<p>The core concept in KMS are the <strong>Keys</strong>, which are composed by metadata and the cryptographic material. There's three possibilities to whom manages a key:</p>\n<ul>\n<li>\n<p><strong>Customer Managed</strong>: You create and manages the keys. Highly configurable.</p>\n<ul>\n<li>You are responsible for setting the security policies, rotating their cryptographic material and much more.</li>\n</ul>\n</li>\n<li>\n<p><strong>AWS Managed</strong>: AWS creates and manages the keys in your account. You cannot use it, the services uses in your behalf. Has the visibility, but no control.</p>\n<ul>\n<li>Keys rotates automatically every year</li>\n</ul>\n</li>\n<li><strong>Owned Keys</strong>: AWS manages the keys in their account. No visibility, and no control.</li>\n</ul>\n<p>It's important to notice that the key cryptographic material never leaves AWS, with the exception of the key's public key.</p>\n<p>When creating the key you need to specify the Key's <strong>Encryption Type</strong>, it varies from:</p>\n<ul>\n<li>\n<p><strong>Symmetric</strong>: You use the same key for encryption and decryption.</p>\n<ul>\n<li>HMAC</li>\n</ul>\n</li>\n<li>\n<p><strong>Asymmetric</strong>: You have two keys, one public and one private. You use both for encryption and decryption or signing and verifying messages.</p>\n<ul>\n<li>Sign and Verify</li>\n</ul>\n</li>\n</ul>\n<p>You can also choose the Key's <strong>Regionality</strong> whether is going to be used in a <strong>Single Region</strong> or in <strong>Multi Region</strong>. In Multi Region keys, they are replicated in other regions.</p>\n<h3>Encryption And Decryption</h3>\n<h4>Symmetric</h4>\n<p>You can use the <code>KMS:Encrypt</code> and <code>KMS::Decrypt</code> methods to directly encrypt data. </p>\n<ol>\n<li>Send to the <strong>encrypt</strong> method the <code>KeyId</code>, the <code>Plaintext</code> (the data to be encrypted) and the <code>EncryptionAlgorithm</code> . The API returns the <code>CiphertextBlob</code> which is the data encrypted.</li>\n<li>Call the <strong>decrypt</strong> method with the <code>KeyId</code> and <code>CiphertextBlob</code>. The API returns the data decrypted. </li>\n</ol>\n<h3>Data Keys (Data Encryption Keys)</h3>\n<p>KMS can generate <strong>Data keys</strong> to encrypt large amount of data outside KMS. The Data keys implement the pattern called <strong>Envelope encryption</strong>. </p>\n<ol>\n<li>Encrypts the data with a <strong>Plaintext key</strong></li>\n<li>Encrypts the <strong>Plaintext key</strong> with <strong>KMS key</strong></li>\n<li>Discard the <strong>Plaintext key</strong></li>\n<li>Store the <strong>Encrypted plaintext key</strong></li>\n<li>Decripts the <strong>Encrypted plaintext key</strong> with <strong>KMS Key</strong></li>\n<li>Decripts the data with plaintext key </li>\n</ol>\n<p>KMS do not uses data key to do cryptographic operations, however, you can data keys together with <strong>AWS Encryption SDK</strong>.</p>\n<p>To generate the Data Keys you can use the <code>GenerateDataKey</code> API for immediate use or the <code>GenerateDataKeyWithoutPlaintext</code> to use together with <code>Decrypt</code> in a future use. Similarly, the <code>GenerateDataKeyPair</code> and <code>GenerateDataKeyPairWithoutPlaintext</code> can be used for asymmetric keys.</p>","frontmatter":{"title":"Key Management Service - KMS"},"isFile":true,"fileName":"key-management-service"}},
    "staticQueryHashes": ["1507822185","2095566405","2894216461","425755332"]}